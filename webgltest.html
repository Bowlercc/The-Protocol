<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>THE PROTOCOL | Words When Theirs Fall Short</title>
<meta name="description" content="A response toolkit for the infertility and childlessness community. When someone says 'just relax', you'll have words ready.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --black: #0A0A0A;
  --white: #FFFFFF;
  --off-white: #F8F8F6;
  --gray: #6B6B6B;
  --gray-light: #E0E0E0;
  --gray-dark: #2A2A2A;
  
  /* Bold card colors */
  --card-yellow: #FFE14D;
  --card-pink: #FF6B9D;
  --card-blue: #4ECDC4;
  --card-orange: #FF8C42;
  --card-purple: #7B4FD3;
  --card-red: #E84855;
  --card-green: #5DBB63;
  --card-mint: #98DFAF;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Space Mono', monospace;
  background: var(--white);
  color: var(--black);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

[data-theme="dark"] {
  --white: #0A0A0A;
  --black: #F5F5F5;
  --off-white: #141414;
  --gray: #999999;
  --gray-light: #333333;
  --gray-dark: #E0E0E0;
}

/* ============================================
   WEBGL BACKGROUND
   ============================================ */
#glCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  opacity: 1;
  pointer-events: none;
}

/* ============================================
   HEADER
   ============================================ */
header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 2rem;
  background: var(--white);
  border-bottom: 2px solid var(--black);
}

.logo {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.25em;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  height: 38px; /* Fixed height for uniform scaling */
}

/* Uniform button styling */
.theme-toggle, .header-cta {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--black);
  transition: all 0.15s;
  cursor: pointer;
  box-sizing: border-box;
  background: var(--white); /* Ensure bg is set */
}

.theme-toggle {
  width: 38px; /* Square aspect ratio */
  background: transparent;
  color: var(--black);
  font-size: 1rem;
}

.theme-toggle:hover {
  background: var(--black);
  color: var(--white);
}

.header-cta {
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  padding: 0 1.25rem;
  background: var(--black);
  color: var(--white);
  text-decoration: none;
}

.header-cta:hover {
  background: var(--card-yellow);
  color: #0A0A0A;
  border-color: var(--black);
}

/* ============================================
   HERO
   ============================================ */
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 7rem 2rem 4rem;
  max-width: 850px;
  margin: 0 auto;
  position: relative;
}

.hero-badge {
  display: inline-block;
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  background: var(--black);
  color: var(--white);
  padding: 0.4rem 0.75rem;
  margin-bottom: 1.5rem;
  width: fit-content;
}

.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.5rem, 7vw, 4.5rem);
  font-weight: 400;
  line-height: 1.1;
  margin-bottom: 1.5rem;
  position: relative;
  z-index: 1;
}

.hero-title em { font-style: italic; }

.hero-text {
  font-size: 0.9rem;
  line-height: 1.9;
  color: var(--gray);
  max-width: 520px;
  margin-bottom: 2.5rem;
  position: relative;
  z-index: 1;
}

.hero-cta {
  display: inline-block;
  background: var(--black);
  color: var(--white);
  padding: 1rem 2rem;
  font-family: 'Space Mono', monospace;
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-decoration: none;
  border: 2px solid var(--black);
  transition: all 0.15s;
  width: fit-content;
}

.hero-cta:hover {
  background: var(--card-yellow);
  color: #0A0A0A;
}

/* Scroll indicator */
.scroll-indicator {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  color: var(--gray);
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  animation: fadeInUp 1s ease 1s forwards;
  opacity: 0;
}

.scroll-arrow-svg {
  width: 24px;
  height: 24px;
  animation: bounce 2s ease-in-out infinite;
  stroke: var(--gray);
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateX(-50%) translateY(10px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(6px); }
  60% { transform: translateY(3px); }
}

/* ============================================
   SECTIONS
   ============================================ */
section {
  padding: 5rem 2rem;
  border-top: 2px solid var(--black);
  position: relative;
  background: rgba(255,255,255,0.7); /* Slight transparency for webgl */
}

[data-theme="dark"] section {
  background: rgba(10,10,10,0.85);
}

.section-inner {
  max-width: 1100px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}

.section-label {
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  margin-bottom: 0.75rem;
}

.section-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 400;
  line-height: 1.25;
  margin-bottom: 1rem;
}

.section-text {
  font-size: 0.85rem;
  line-height: 1.85;
  color: var(--gray);
  max-width: 550px;
}

/* ============================================
   THE PROBLEM - Animated Quotes
   ============================================ */
.problem-quotes {
  margin-top: 2.5rem;
  border: 2px solid var(--black);
  background: var(--white);
}

.problem-quote {
  padding: 1.25rem 1.5rem;
  border-bottom: 2px solid var(--black);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.problem-quote.visible {
  opacity: 1;
  transform: translateY(0);
}

.problem-quote:last-child {
  border-bottom: none;
}

.problem-quote-text {
  font-family: 'Playfair Display', serif;
  font-size: 1.15rem;
  font-style: italic;
}

.problem-quote-subtext {
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-align: right;
  color: var(--gray);
  max-width: 200px;
}

/* ============================================
   SPECIMEN CARDS
   ============================================ */
.specimens-section {
  background: var(--off-white);
  /* Ensure solid bg for this section so cards pop */
  opacity: 0.95;
}

.specimens-controls {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.spice-filter {
  display: flex;
  gap: 0.5rem;
}

.spice-btn {
  background: var(--white);
  border: 2px solid var(--black);
  color: var(--black);
  padding: 0.5rem 0.75rem;
  font-family: 'Space Mono', monospace;
  font-size: 0.55rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s;
}

.spice-btn:hover { background: var(--gray-light); }
.spice-btn.active { background: var(--black); color: var(--white); }

.specimens-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
}

.specimen-card {
  border: 3px solid var(--black);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  display: flex;
  flex-direction: column;
  position: relative;
  background: var(--white);
}

.specimen-card:hover {
  transform: translateY(-4px);
  box-shadow: 6px 6px 0 var(--black);
}

.specimen-card.yellow .specimen-top { background: var(--card-yellow); }
.specimen-card.pink .specimen-top { background: var(--card-pink); }
.specimen-card.blue .specimen-top { background: var(--card-blue); }
.specimen-card.orange .specimen-top { background: var(--card-orange); }
.specimen-card.mint .specimen-top { background: var(--card-mint); }
.specimen-card.purple .specimen-top { background: var(--card-purple); }
.specimen-card.red .specimen-top { background: var(--card-red); }

.specimen-top {
  padding: 1.5rem;
  position: relative;
  color: #0A0A0A;
}

.specimen-stamp {
  position: absolute;
  top: 1rem;
  right: 1rem;
  font-size: 0.4rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  padding: 0.25rem 0.5rem;
  border: 1.5px solid #0A0A0A;
  color: #0A0A0A;
  opacity: 0.7;
}

.specimen-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
}

.specimen-id {
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  opacity: 0.7;
  color: #0A0A0A;
}

.specimen-quote {
  font-family: 'Playfair Display', serif;
  font-size: 1.4rem;
  font-style: italic;
  line-height: 1.3;
  padding-right: 3rem;
  color: #0A0A0A;
}

.specimen-bottom {
  padding: 1.25rem 1.5rem;
  background: var(--white);
  border-top: 3px solid var(--black);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.specimen-response-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.specimen-response-label {
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.specimen-response-type {
  background: var(--black);
  color: var(--white);
  padding: 0.2rem 0.5rem;
  font-size: 0.45rem;
}

.specimen-spice { font-size: 0.85rem; letter-spacing: -0.05em; }

.specimen-response {
  font-size: 0.85rem;
  line-height: 1.65;
  color: var(--gray-dark);
  flex: 1;
}

.specimen-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--gray-light);
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
}

.specimen-category { color: var(--gray); }
.specimen-more { color: var(--black); }

/* ============================================
   RESPONSE TYPES
   ============================================ */
.tones-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0;
  margin-top: 2rem;
  border: 2px solid var(--black);
  background: var(--white);
}

.tone {
  padding: 1.5rem;
  border-right: 2px solid var(--black);
  transition: all 0.2s ease;
  cursor: default;
}

.tone:last-child { border-right: none; }
.tone:hover { background: var(--off-white); transform: translateY(-2px); }
.tone:hover .tone-name { color: var(--card-purple); }

.tone-name {
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  margin-bottom: 0.5rem;
  transition: color 0.2s;
}

.tone-desc {
  font-size: 0.7rem;
  color: var(--gray);
  margin-bottom: 1rem;
  line-height: 1.6;
}

.tone-example {
  font-family: 'Playfair Display', serif;
  font-size: 0.9rem;
  font-style: italic;
  line-height: 1.5;
  padding-top: 1rem;
  border-top: 1px solid var(--gray-light);
}

/* ============================================
   BINGO
   ============================================ */
.bingo-wrapper {
  max-width: 520px;
  margin: 2rem auto 0;
}

.bingo-card {
  border: 3px solid var(--black);
  background: var(--white);
}

.bingo-header {
  padding: 1rem 1.25rem;
  border-bottom: 3px solid var(--black);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.bingo-title { font-family: 'Playfair Display', serif; font-size: 1.25rem; }
.bingo-subtitle { font-size: 0.5rem; font-weight: 700; letter-spacing: 0.15em; }

.bingo-grid { display: grid; grid-template-columns: repeat(5, 1fr); }

.bingo-cell {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 0.5rem;
  font-weight: 700;
  line-height: 1.3;
  padding: 0.4rem;
  border-right: 1px solid var(--gray-light);
  border-bottom: 1px solid var(--gray-light);
  cursor: pointer;
  transition: all 0.1s;
  background: var(--white);
  color: var(--black);
}

.bingo-cell:nth-child(5n) { border-right: none; }
.bingo-cell:nth-child(n+21) { border-bottom: none; }
.bingo-cell:hover { background: var(--gray-light); }

.bingo-cell.marked {
  background: var(--card-yellow);
  color: #0A0A0A !important;
  animation: popIn 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes popIn {
  0% { transform: scale(0.9); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

.bingo-cell.free { background: var(--off-white); }

.bingo-cell.free input {
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--gray-light);
  color: var(--black);
  font-family: 'Space Mono', monospace;
  font-size: 0.45rem;
  font-weight: 700;
  text-align: center;
  width: 100%;
  outline: none;
}

.bingo-footer {
  padding: 0.75rem 1.25rem;
  border-top: 3px solid var(--black);
  display: flex;
  justify-content: space-between;
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.15em;
}

.bingo-actions {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  margin-top: 1.25rem;
}

.bingo-btn {
  background: var(--white);
  color: var(--black);
  border: 2px solid var(--black);
  padding: 0.65rem 1.5rem;
  font-family: 'Space Mono', monospace;
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  cursor: pointer;
  transition: all 0.15s;
}

.bingo-btn:hover { background: var(--gray-light); }
.bingo-btn.primary { background: var(--black); color: var(--white); }
.bingo-btn.primary:hover { background: var(--card-yellow); color: #0A0A0A; border-color: var(--black); }

/* ============================================
   COMMUNITY
   ============================================ */
.community-section {
  background: #0A0A0A;
  color: #F5F5F5;
  text-align: center;
  border-top: 2px solid var(--black);
}

.community-section .section-label,
.community-section .section-title { color: #F5F5F5; }
.community-section .section-text { color: rgba(245,245,245,0.6); margin: 0 auto; }

.matterhood-link {
  display: inline-block;
  color: #F5F5F5;
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  padding: 0.75rem 1.5rem;
  border: 2px solid #F5F5F5;
  text-decoration: none;
  margin-top: 2rem;
  transition: all 0.15s;
}

.matterhood-link:hover { background: #F5F5F5; color: #0A0A0A; }

/* ============================================
   SUBMIT
   ============================================ */
.submit-form {
  max-width: 450px;
  margin: 2rem auto 0;
  border: 3px solid var(--black);
  padding: 1.5rem;
  background: var(--white);
}

.submit-form-header {
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  padding-bottom: 1rem;
  margin-bottom: 1rem;
  border-bottom: 1px solid var(--gray-light);
}

.form-field { margin-bottom: 1rem; }

.form-label {
  display: block;
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  margin-bottom: 0.4rem;
}

.form-label .req { color: var(--card-red); }

.form-input, .form-textarea {
  width: 100%;
  background: var(--off-white);
  border: 2px solid var(--black);
  color: var(--black);
  font-family: 'Space Mono', monospace;
  font-size: 0.75rem;
  padding: 0.65rem;
  outline: none;
}

.form-input:focus, .form-textarea:focus { background: var(--white); }
.form-textarea { min-height: 70px; resize: vertical; }

.form-check {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  margin: 1rem 0;
}

.form-check input { margin-top: 0.15rem; accent-color: var(--black); }
.form-check label { font-size: 0.65rem; color: var(--gray); line-height: 1.5; }

.form-submit {
  width: 100%;
  background: var(--black);
  color: var(--white);
  border: 2px solid var(--black);
  padding: 0.8rem;
  font-family: 'Space Mono', monospace;
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  cursor: pointer;
  transition: all 0.15s;
}

.form-submit:hover { background: var(--card-yellow); color: #0A0A0A; }

.form-note {
  font-size: 0.55rem;
  color: var(--gray);
  margin-top: 1rem;
  text-align: center;
  line-height: 1.6;
}

.form-destination {
  font-size: 0.5rem;
  color: var(--gray);
  margin-top: 0.75rem;
  text-align: center;
  padding-top: 0.75rem;
  border-top: 1px dashed var(--gray-light);
}

/* ============================================
   DISCLAIMER
   ============================================ */
.disclaimer-section { background: var(--off-white); }
.disclaimer-inner { display: flex; gap: 1.5rem; max-width: 650px; margin: 0 auto; }
.disclaimer-icon { font-size: 1.5rem; flex-shrink: 0; }
.disclaimer-text { font-size: 0.75rem; line-height: 1.8; color: var(--gray); }

/* ============================================
   FINAL CTA
   ============================================ */
.final-cta { text-align: center; padding: 6rem 2rem; }
.final-cta .section-title { margin-bottom: 0.75rem; }
.final-cta .section-text { margin: 0 auto 2rem; max-width: 420px; }

.enter-btn {
  display: inline-block;
  background: var(--black);
  color: var(--white);
  padding: 1rem 2.5rem;
  font-family: 'Space Mono', monospace;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-decoration: none;
  border: 3px solid var(--black);
  transition: all 0.15s;
}

.enter-btn:hover {
  background: var(--card-yellow);
  color: #0A0A0A;
  box-shadow: 4px 4px 0 var(--black);
}

/* ============================================
   FOOTER
   ============================================ */
footer {
  padding: 1.5rem 2rem;
  border-top: 2px solid var(--black);
  text-align: center;
  background: var(--white);
}

.footer-main {
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.footer-credit {
  font-size: 0.5rem;
  color: var(--gray);
  font-style: italic;
  margin-bottom: 0.75rem;
}

.footer-links {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
}

.footer-links a { color: var(--black); text-decoration: none; }
.footer-links a:hover { text-decoration: underline; }

/* ============================================
   TOAST
   ============================================ */
.toast {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: var(--black);
  color: var(--white);
  padding: 0.65rem 1.25rem;
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  opacity: 0;
  transition: all 0.3s;
  z-index: 10000;
}

.toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 800px) {
  .specimens-grid { grid-template-columns: 1fr; }
  .tones-grid { grid-template-columns: repeat(2, 1fr); }
  .tone { border-bottom: 2px solid var(--black); }
  .tone:nth-child(2) { border-right: none; }
  .tone:nth-child(3), .tone:nth-child(4) { border-bottom: none; }
  .tone:nth-child(4) { border-right: none; }
}

@media (max-width: 600px) {
  header { padding: 0.75rem 1rem; }
  section { padding: 3.5rem 1.5rem; }
  .tones-grid { grid-template-columns: 1fr; }
  .tone { border-right: none; border-bottom: 2px solid var(--black); }
  .tone:last-child { border-bottom: none; }
  .problem-quote { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
  .problem-quote-subtext { text-align: left; max-width: none; }
  .bingo-cell { font-size: 0.4rem; }
  .specimens-controls { flex-direction: column; align-items: flex-start; }
  .disclaimer-inner { flex-direction: column; gap: 1rem; }
  .specimen-quote { font-size: 1.2rem; padding-right: 2rem; }
  .specimen-stamp { top: 0.75rem; right: 0.75rem; }
  .scroll-indicator { display: none; }
}
</style>
</head>
<body>

<canvas id="glCanvas"></canvas>

<header>
  <div class="logo">THE PROTOCOL</div>
  <div class="header-right">
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">‚òæ</button>
    <a href="app.html" class="header-cta">ENTER ARCHIVE</a>
  </div>
</header>

<section class="hero">
  <div class="hero-badge">A MATTERHOOD PROJECT</div>
  <h1 class="hero-title">Words for when <em>theirs</em> fall short.</h1>
  <p class="hero-text">
    A catalog of the well-meaning, the clueless, and the truly unhinged things people say about fertility. Documented. And paired with responses‚Äîfrom diplomatic to delightfully absurd. You choose.
  </p>
  <a href="app.html" class="hero-cta">BROWSE THE ARCHIVE</a>
  
  <div class="scroll-indicator">
    <span>SCROLL</span>
    <svg class="scroll-arrow-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>
</section>

<section>
  <div class="section-inner">
    <div class="section-label">THE PROBLEM</div>
    <h2 class="section-title">People mean well. The comments still land wrong.</h2>
    <p class="section-text">
      Family dinners. Office kitchens. Checkout queues. The comments arrive gift-wrapped in good intentions and leave you wondering if screaming is socially acceptable. (It's not. We checked.)
    </p>
    <div class="problem-quotes" id="problemQuotes">
      <div class="problem-quote">
        <div class="problem-quote-text">"Just relax and it'll happen."</div>
        <div class="problem-quote-subtext">TRANSLATION: YOUR ANXIETY CAUSED THIS</div>
      </div>
      <div class="problem-quote">
        <div class="problem-quote-text">"Have you tried yoga?"</div>
        <div class="problem-quote-subtext">TRANSLATION: HAVE YOU TRIED NOT HAVING A MEDICAL CONDITION</div>
      </div>
      <div class="problem-quote">
        <div class="problem-quote-text">"Everything happens for a reason."</div>
        <div class="problem-quote-subtext">TRANSLATION: THE UNIVERSE PLANNED YOUR SUFFERING</div>
      </div>
    </div>
  </div>
</section>

<section class="specimens-section">
  <div class="section-inner">
    <div class="specimens-controls">
      <div>
        <div class="section-label">FROM THE ARCHIVE</div>
        <h2 class="section-title">Specimens + Responses</h2>
      </div>
      <div class="spice-filter">
        <button class="spice-btn active" data-spice="all">ALL</button>
        <button class="spice-btn" data-spice="mild">üå∂Ô∏è MILD</button>
        <button class="spice-btn" data-spice="medium">üå∂Ô∏èüå∂Ô∏è MEDIUM</button>
        <button class="spice-btn" data-spice="hot">üå∂Ô∏èüå∂Ô∏èüå∂Ô∏è HOT</button>
      </div>
    </div>
    <div class="specimens-grid" id="specimensGrid"></div>
  </div>
</section>

<section>
  <div class="section-inner">
    <div class="section-label">RESPONSE TYPES</div>
    <h2 class="section-title">Four ways to respond. Choose your weapon.</h2>
    <p class="section-text">From the gracious straight bat to the gloriously unhinged. Every specimen comes with all four, at three spice levels.</p>
    <div class="tones-grid">
      <div class="tone">
        <div class="tone-name">DIPLOMAT</div>
        <div class="tone-desc">Graceful deflection for relationships you still need.</div>
        <div class="tone-example">"Thank you for thinking of us. We're navigating this the best we can."</div>
      </div>
      <div class="tone">
        <div class="tone-name">CRITIC</div>
        <div class="tone-desc">Facts, delivered firmly. For myth correction.</div>
        <div class="tone-example">"Stress doesn't cause my particular condition. But it's a popular theory."</div>
      </div>
      <div class="tone">
        <div class="tone-name">ABSURDIST</div>
        <div class="tone-desc">Matching absurdity with absurdity. Satisfying.</div>
        <div class="tone-example">"I'll ask my ovaries to meditate. They've been very tense."</div>
      </div>
      <div class="tone">
        <div class="tone-name">REALIST</div>
        <div class="tone-desc">Honest and grounded. No games, just truth.</div>
        <div class="tone-example">"The treatments failed. We didn't. But it took time to understand the difference."</div>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="section-inner">
    <div class="section-label" style="text-align:center">INTERACTIVE</div>
    <h2 class="section-title" style="text-align:center">Fertility Comments Bingo</h2>
    <p class="section-text" style="text-align:center;margin:0 auto">Mark the ones you've heard. Add your own in the middle. Export and share (or keep as evidence).</p>
    
    <div class="bingo-wrapper">
      <div class="bingo-card" id="bingoCard">
        <div class="bingo-header">
          <div class="bingo-title">BINGO</div>
          <div class="bingo-subtitle">THINGS PEOPLE ACTUALLY SAY</div>
        </div>
        <div class="bingo-grid" id="bingoGrid">
          <div class="bingo-cell">"Just relax"</div>
          <div class="bingo-cell">"Have you tried yoga?"</div>
          <div class="bingo-cell">"My cousin..."</div>
          <div class="bingo-cell">"You're still young"</div>
          <div class="bingo-cell">"Just adopt"</div>
          <div class="bingo-cell">"For a reason"</div>
          <div class="bingo-cell">"Sleep in on weekends"</div>
          <div class="bingo-cell">"Grandkids when?"</div>
          <div class="bingo-cell">"God's plan"</div>
          <div class="bingo-cell">"Great parent"</div>
          <div class="bingo-cell">"Acupuncture?"</div>
          <div class="bingo-cell">"Stop thinking about it"</div>
          <div class="bingo-cell free"><input type="text" id="bingoCustom" placeholder="yours here"></div>
          <div class="bingo-cell">"Least expect it"</div>
          <div class="bingo-cell">"Just do IVF"</div>
          <div class="bingo-cell">"Enjoy your freedom"</div>
          <div class="bingo-cell">"Trying too hard"</div>
          <div class="bingo-cell">"Sure you want kids?"</div>
          <div class="bingo-cell">"On vacation"</div>
          <div class="bingo-cell">"Pineapple core?"</div>
          <div class="bingo-cell">"Have each other"</div>
          <div class="bingo-cell">"Not meant to be"</div>
          <div class="bingo-cell">"Fun aunt/uncle"</div>
          <div class="bingo-cell">"Surrogacy?"</div>
          <div class="bingo-cell">"Be grateful"</div>
        </div>
        <div class="bingo-footer">
          <span>THE PROTOCOL</span>
          <span>MATTERHOOD</span>
        </div>
      </div>
      <div class="bingo-actions">
        <button class="bingo-btn" id="resetBingo">RESET</button>
        <button class="bingo-btn" id="animateBingo">ANIMATE</button>
        <button class="bingo-btn primary" id="exportBingo">EXPORT</button>
      </div>
    </div>
  </div>
</section>

<section class="community-section">
  <div class="section-inner">
    <div class="section-label">YOU'RE NOT ALONE</div>
    <h2 class="section-title">This grief is real. Even when no one mentions it.</h2>
    <p class="section-text">
      Infertility and childlessness can feel like a loss no one acknowledges. No funeral, no flowers, no casseroles. Just silence‚Äîor worse, advice. The Protocol is part of Matterhood, a community for people walking this path.
    </p>
    <a href="https://matterhood.ghost.io/" target="_blank" class="matterhood-link">VISIT MATTERHOOD ‚Üí</a>
  </div>
</section>

<section>
  <div class="section-inner">
    <div class="section-label" style="text-align:center">CONTRIBUTE</div>
    <h2 class="section-title" style="text-align:center">Add to the archive.</h2>
    <p class="section-text" style="text-align:center;margin:0 auto">Heard something that belongs here? We're collecting.</p>
    
    <form class="submit-form" id="submitForm">
      <div class="submit-form-header">SPECIMEN SUBMISSION</div>
      <div class="form-field">
        <label class="form-label">THE COMMENT <span class="req">*</span></label>
        <input type="text" class="form-input" id="submitComment" placeholder="What did they say?" required>
      </div>
      <div class="form-field">
        <label class="form-label">CONTEXT</label>
        <textarea class="form-textarea" id="submitContext" placeholder="Who said it? Where? What made it land?"></textarea>
      </div>
      <div class="form-field">
        <label class="form-label">YOUR NAME (OPTIONAL)</label>
        <input type="text" class="form-input" id="submitName" placeholder="For our records">
      </div>
      <div class="form-field">
        <label class="form-label">EMAIL (OPTIONAL)</label>
        <input type="email" class="form-input" id="submitEmail" placeholder="If we can contact you">
      </div>
      <div class="form-check">
        <input type="checkbox" id="submitAnon" checked>
        <label for="submitAnon">Submit anonymously (your story matters, your name doesn't have to)</label>
      </div>
      <button type="submit" class="form-submit">SUBMIT</button>
      <p class="form-note">We document the absurdity‚Äînot attack the people. All submissions reviewed.</p>
      <p class="form-destination">Submissions go to Craig & Courtney for review. Submissions are currently stored locally for this demo.</p>
    </form>
  </div>
</section>

<section class="disclaimer-section">
  <div class="section-inner">
    <div class="disclaimer-inner">
      <div class="disclaimer-icon">‚Äª</div>
      <div class="disclaimer-text">
        We're not therapists. We're just people who've heard "everything happens for a reason" enough times to build a database. This is shared experience, not medical advice. If you're struggling, please talk to a professional. And if you're here because someone shared a card with you‚Äîthank you for wanting to understand.
      </div>
    </div>
  </div>
</section>

<section class="final-cta">
  <div class="section-inner">
    <h2 class="section-title">Ready to find your words?</h2>
    <p class="section-text">You don't owe anyone an explanation. But if you want one ready‚Äîone that doesn't involve screaming‚Äîwe've got you.</p>
    <a href="app.html" class="enter-btn">ENTER THE ARCHIVE</a>
  </div>
</section>

<footer>
  <div class="footer-main">THE PROTOCOL ‚Äî MATTERHOOD</div>
  <div class="footer-credit">Made with love and frustration by Craig & Courtney</div>
  <div class="footer-links">
    <a href="app.html">Archive</a>
    <a href="https://matterhood.ghost.io/">Matterhood</a>
  </div>
</footer>

<div class="toast" id="toast"></div>

<script>
const canvas = document.getElementById("glCanvas");
const gl = canvas.getContext("webgl");

if (!gl) {
  console.log("WebGL not supported");
} else {
  // Resize handler
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    gl.viewport(0, 0, canvas.width, canvas.height);
  }
  window.addEventListener("resize", resize);
  resize();

  // Shaders
  const vsSource = `
    attribute vec2 position;
    void main() {
      gl_Position = vec4(position, 0.0, 1.0);
    }
  `;

  const fsSource = `
    precision mediump float;
    uniform vec2 u_resolution;
    uniform float u_time;
    uniform float u_dark; // 1.0 for dark mode, 0.0 for light mode

    // 2D Random
    float random (in vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
    }

    // 2D Noise based on Morgan McGuire @morgan3d
    float noise (in vec2 st) {
        vec2 i = floor(st);
        vec2 f = fract(st);
        float a = random(i);
        float b = random(i + vec2(1.0, 0.0));
        float c = random(i + vec2(0.0, 1.0));
        float d = random(i + vec2(1.0, 1.0));
        vec2 u = f*f*(3.0-2.0*f);
        return mix(a, b, u.x) + (c - a)* u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
    }

    void main() {
        vec2 st = gl_FragCoord.xy/u_resolution.xy;
        st.x *= u_resolution.x/u_resolution.y;

        // Animate the grid
        float t = u_time * 0.1;
        
        // Warped grid lines
        vec2 pos = st * 8.0; // Grid scale
        float n = noise(pos + t); // Noise for distortion
        
        // Distort position with noise
        pos += n * 0.5;
        
        // Create lines
        float lineStrength = 0.0;
        
        // Function to create smooth lines
        // fract(pos) creates repeating 0-1. 
        // We want a spike at 0 and 1.
        vec2 grid = abs(fract(pos - 0.5) - 0.5) / fwidth(pos);
        float line = min(grid.x, grid.y);
        
        // Invert so lines are 1.0
        lineStrength = 1.0 - min(line, 1.0);
        
        // Colors
        vec3 colorBg = u_dark > 0.5 ? vec3(0.04) : vec3(1.0);
        vec3 colorLine = u_dark > 0.5 ? vec3(0.2) : vec3(0.9);
        
        // Mix background and line
        vec3 finalColor = mix(colorBg, colorLine, lineStrength * 0.5); // 0.5 for subtlety

        gl_FragColor = vec4(finalColor, 1.0);
    }
  `;

  // Shader compilation helper
  function createShader(gl, type, source) {
    const shader = gl.createShader(type);
    gl.shaderSource(shader, source);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      console.error(gl.getShaderInfoLog(shader));
      gl.deleteShader(shader);
      return null;
    }
    return shader;
  }

  const vs = createShader(gl, gl.VERTEX_SHADER, vsSource);
  const fs = createShader(gl, gl.FRAGMENT_SHADER, fsSource);
  const program = gl.createProgram();
  gl.attachShader(program, vs);
  gl.attachShader(program, fs);
  gl.linkProgram(program);

  // Buffer setup
  const positionBuffer = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
    -1.0, -1.0,
     1.0, -1.0,
    -1.0,  1.0,
    -1.0,  1.0,
     1.0, -1.0,
     1.0,  1.0,
  ]), gl.STATIC_DRAW);

  // Attribute location
  const positionAttributeLocation = gl.getAttribLocation(program, "position");
  gl.enableVertexAttribArray(positionAttributeLocation);
  gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);

  // Uniform locations
  const resolutionLocation = gl.getUniformLocation(program, "u_resolution");
  const timeLocation = gl.getUniformLocation(program, "u_time");
  const darkLocation = gl.getUniformLocation(program, "u_dark");

  // Rendering loop
  function render(time) {
    // Check theme
    const isDark = document.documentElement.dataset.theme === 'dark';
    
    gl.useProgram(program);
    gl.uniform2f(resolutionLocation, canvas.width, canvas.height);
    gl.uniform1f(timeLocation, time * 0.001);
    gl.uniform1f(darkLocation, isDark ? 1.0 : 0.0);
    
    gl.drawArrays(gl.TRIANGLES, 0, 6);
    requestAnimationFrame(render);
  }
  requestAnimationFrame(render);
}

// Logic for main functionality (Specimens, Bingo, etc)
const specimens = [
  {
    id: 1,
    quote: '"Just relax and it\'ll happen."',
    category: 'MEDICAL ADVICE',
    spice: 'hot',
    color: 'yellow',
    responseType: 'ABSURDIST',
    response: 'I\'ll simply unclench my diagnosed medical condition. The doctors will be thrilled.'
  },
  {
    id: 2,
    quote: '"Why don\'t you just adopt?"',
    category: 'SIMPLE SOLUTIONS',
    spice: 'medium',
    color: 'pink',
    responseType: 'CRITIC',
    response: '"Just adopt" ‚Äî as if children are waiting in a warehouse for anyone who asks. The process takes years.'
  },
  {
    id: 3,
    quote: '"Everything happens for a reason."',
    category: 'COSMIC EXPLANATIONS',
    spice: 'mild',
    color: 'blue',
    responseType: 'DIPLOMAT',
    response: 'Thank you. I\'m still looking for the reason. When I find it, I\'ll let you know.'
  },
  {
    id: 4,
    quote: '"Have you tried yoga?"',
    category: 'ALTERNATIVE MEDICINE',
    spice: 'hot',
    color: 'orange',
    responseType: 'ABSURDIST',
    response: 'My fallopian tubes are notoriously inflexible. I\'ll sign them up for a class.'
  },
  {
    id: 5,
    quote: '"My cousin tried for years and then‚Äîboom!"',
    category: 'ANECDOTAL EVIDENCE',
    spice: 'medium',
    color: 'purple',
    responseType: 'CRITIC',
    response: 'Anecdotes aren\'t data. But I\'m glad it worked out for your cousin.'
  },
  {
    id: 6,
    quote: '"At least you can sleep in on weekends!"',
    category: 'SILVER LININGS',
    spice: 'hot',
    color: 'red',
    responseType: 'REALIST',
    response: 'We wanted the sleepless nights. The tantrums. The chaos. We\'d have taken all of it.'
  },
];

function getSpiceEmoji(spice) {
  if (spice === 'mild') return 'üå∂Ô∏è';
  if (spice === 'medium') return 'üå∂Ô∏èüå∂Ô∏è';
  return 'üå∂Ô∏èüå∂Ô∏èüå∂Ô∏è';
}

function renderSpecimens(filter = 'all') {
  const grid = document.getElementById('specimensGrid');
  const filtered = filter === 'all' ? specimens : specimens.filter(s => s.spice === filter);
  
  grid.innerHTML = filtered.map((s) => `
    <div class="specimen-card ${s.color}" onclick="location.href='app.html'">
      <div class="specimen-top">
        <span class="specimen-stamp">MATTERHOOD</span>
        <div class="specimen-header">
          <span class="specimen-id">NO. ${String(s.id).padStart(3, '0')}</span>
        </div>
        <div class="specimen-quote">${s.quote}</div>
      </div>
      <div class="specimen-bottom">
        <div class="specimen-response-header">
          <div class="specimen-response-label">
            RESPONSE <span class="specimen-response-type">${s.responseType}</span>
          </div>
          <span class="specimen-spice">${getSpiceEmoji(s.spice)}</span>
        </div>
        <div class="specimen-response">${s.response}</div>
        <div class="specimen-footer">
          <span class="specimen-category">${s.category}</span>
          <span class="specimen-more">+11 MORE ‚Üí</span>
        </div>
      </div>
    </div>
  `).join('');
}

renderSpecimens();

document.querySelectorAll('.spice-filter .spice-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.spice-filter .spice-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    renderSpecimens(btn.dataset.spice);
  });
});

// Bingo - single yellow color
const bingoGrid = document.getElementById('bingoGrid');
const cells = bingoGrid.querySelectorAll('.bingo-cell:not(.free)');

cells.forEach(cell => {
  cell.addEventListener('click', () => {
    cell.classList.toggle('marked');
  });
});

document.getElementById('resetBingo').addEventListener('click', () => {
  cells.forEach(cell => cell.classList.remove('marked'));
  document.getElementById('bingoCustom').value = '';
  showToast('RESET');
});

// Animate Bingo for Screen Recording
document.getElementById('animateBingo').addEventListener('click', () => {
  // Store currently selected indices
  const selectedIndices = [];
  cells.forEach((cell, i) => {
    if (cell.classList.contains('marked')) selectedIndices.push(i);
    cell.classList.remove('marked'); // Clear initially
  });

  if (selectedIndices.length === 0) {
    showToast('SELECT SQUARES FIRST');
    return;
  }

  // Animate them back in one by one
  selectedIndices.forEach((index, i) => {
    setTimeout(() => {
      cells[index].classList.add('marked');
    }, i * 300); // 300ms delay between each
  });
});

// Bingo export - matches site formatting exactly
document.getElementById('exportBingo').addEventListener('click', () => {
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  const w = 1080, h = 1080;
  canvas.width = w; canvas.height = h;
  
  // Theme Awareness
  const isDark = document.documentElement.dataset.theme === 'dark';
  
  const yellow = '#FFE14D';
  const black = isDark ? '#F5F5F5' : '#0A0A0A'; // Swap border text
  const white = isDark ? '#0A0A0A' : '#FFFFFF'; // Swap bg
  const offWhite = isDark ? '#141414' : '#F8F8F6';
  const grayLight = isDark ? '#333333' : '#E0E0E0';
  const textOnYellow = '#0A0A0A'; // Always black on yellow
  
  // Background
  ctx.fillStyle = white;
  ctx.fillRect(0, 0, w, h);
  
  const pad = 60;
  const headerH = 100;
  const footerH = 70;
  const gridTop = pad + headerH;
  const gridH = h - gridTop - footerH - pad;
  const gridW = w - pad * 2;
  const cellW = gridW / 5;
  const cellH = gridH / 5;
  
  // Outer border - 3px like site
  ctx.strokeStyle = black;
  ctx.lineWidth = 6;
  ctx.strokeRect(pad, pad, gridW, h - pad * 2);
  
  // Header background
  ctx.fillStyle = white;
  ctx.fillRect(pad + 3, pad + 3, gridW - 6, headerH - 3);
  
  // Header text
  ctx.fillStyle = black;
  ctx.font = '600 48px Playfair Display, Georgia, serif';
  ctx.textAlign = 'left';
  ctx.fillText('BINGO', pad + 28, pad + 65);
  
  ctx.font = '700 14px Space Mono, monospace';
  ctx.textAlign = 'right';
  ctx.fillText('THINGS PEOPLE ACTUALLY SAY', w - pad - 28, pad + 58);
  
  // Header bottom border
  ctx.strokeStyle = black;
  ctx.lineWidth = 6;
  ctx.beginPath();
  ctx.moveTo(pad, gridTop);
  ctx.lineTo(w - pad, gridTop);
  ctx.stroke();
  
  const allCells = bingoGrid.querySelectorAll('.bingo-cell');
  const custom = document.getElementById('bingoCustom').value || 'FREE';
  
  allCells.forEach((cell, i) => {
    const col = i % 5, row = Math.floor(i / 5);
    const x = pad + col * cellW, y = gridTop + row * cellH;
    
    const marked = cell.classList.contains('marked');
    const free = cell.classList.contains('free');
    
    // Cell background
    if (marked) {
      ctx.fillStyle = yellow;
    } else if (free) {
      ctx.fillStyle = offWhite;
    } else {
      ctx.fillStyle = white;
    }
    ctx.fillRect(x + 1, y + 1, cellW - 2, cellH - 2);
    
    // Cell border (light gray like site)
    ctx.strokeStyle = grayLight;
    ctx.lineWidth = 1;
    // Right border (except last column)
    if (col < 4) {
      ctx.beginPath();
      ctx.moveTo(x + cellW, y);
      ctx.lineTo(x + cellW, y + cellH);
      ctx.stroke();
    }
    // Bottom border (except last row)
    if (row < 4) {
      ctx.beginPath();
      ctx.moveTo(x, y + cellH);
      ctx.lineTo(x + cellW, y + cellH);
      ctx.stroke();
    }
    
    // Cell text
    ctx.fillStyle = marked ? textOnYellow : black; // Black if marked (yellow bg), else theme text
    ctx.font = '700 16px Space Mono, monospace'; // Increased size
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    
    const text = free ? custom : cell.textContent;
    const words = text.replace(/"/g, '').split(' ');
    let lines = [], line = '';
    words.forEach(word => {
      const test = line ? line + ' ' + word : word;
      if (ctx.measureText(test).width > cellW - 24 && line) { 
        lines.push(line); 
        line = word; 
      } else {
        line = test;
      }
    });
    if (line) lines.push(line);
    
    const lh = 22;
    const startY = y + cellH / 2 - (lines.length - 1) * lh / 2;
    lines.forEach((l, li) => ctx.fillText(l, x + cellW / 2, startY + li * lh));
  });
  
  // Footer top border
  const footerY = gridTop + gridH;
  ctx.strokeStyle = black;
  ctx.lineWidth = 6;
  ctx.beginPath();
  ctx.moveTo(pad, footerY);
  ctx.lineTo(w - pad, footerY);
  ctx.stroke();
  
  // Footer background
  ctx.fillStyle = white;
  ctx.fillRect(pad + 3, footerY + 3, gridW - 6, footerH - 6);
  
  // Footer text
  ctx.fillStyle = black;
  ctx.font = '700 14px Space Mono, monospace';
  ctx.textAlign = 'left';
  ctx.fillText('THE PROTOCOL', pad + 28, footerY + 42);
  ctx.textAlign = 'right';
  ctx.fillText('MATTERHOOD', w - pad - 28, footerY + 42);
  
  const link = document.createElement('a');
  link.download = `bingo-${Date.now()}.png`;
  link.href = canvas.toDataURL('image/png');
  link.click();
  showToast('EXPORTED');
});

// Animation Observer for Problem Quotes
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.2 });

document.querySelectorAll('.problem-quote').forEach(q => observer.observe(q));

// Form submission - stores locally and shows confirmation
document.getElementById('submitForm').addEventListener('submit', e => {
  e.preventDefault();
  const data = {
    comment: document.getElementById('submitComment').value,
    context: document.getElementById('submitContext').value,
    name: document.getElementById('submitName').value,
    email: document.getElementById('submitEmail').value,
    anon: document.getElementById('submitAnon').checked,
    time: new Date().toISOString()
  };
  
  // NOTE: In a real deployment, send this data to a service like Formspree or a database.
  // Currently saving to LocalStorage for demo purposes.
  const subs = JSON.parse(localStorage.getItem('protocol_subs') || '[]');
  subs.push(data);
  localStorage.setItem('protocol_subs', JSON.stringify(subs));
  
  // Clear form
  document.getElementById('submitComment').value = '';
  document.getElementById('submitContext').value = '';
  document.getElementById('submitName').value = '';
  document.getElementById('submitEmail').value = '';
  
  showToast('SUBMITTED ‚Äî THANK YOU');
});

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}

// Theme
const toggle = document.getElementById('themeToggle');
function setTheme(t) {
  document.documentElement.dataset.theme = t;
  toggle.textContent = t === 'dark' ? '‚òÄ' : '‚òæ';
  localStorage.setItem('protocol_theme', t);
}
toggle.addEventListener('click', () => setTheme(document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark'));
setTheme(localStorage.getItem('protocol_theme') || 'light');
</script>

</body>
</html>
